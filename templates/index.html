<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è ISO 27001</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .checklist-card { transition: 0.3s; }
        .checklist-card:hover { transform: scale(1.01); box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
<div class="container py-5">
    <div class="card shadow rounded">
        <div class="card-body">
            <h2 class="card-title text-center mb-4">–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è ISO 27001</h2>
            <form method="POST">
                <div class="row row-cols-1 row-cols-md-2 g-3">
                    {% for item in checklist %}
                    <div class="col">
                        <div class="card checklist-card">
                            <div class="card-body">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="check" value="{{ item }}" id="item{{ loop.index }}">
                                    <label class="form-check-label" for="item{{ loop.index }}">{{ item }}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="d-grid mt-4">
                    <button type="submit" class="btn btn-primary btn-lg">–û—Ü–µ–Ω–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ</button>
                </div>
            </form>

            {% if result is defined %}
            <div class="mt-4">
                <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç: <span class="text-success">{{ result }}%</span></h4>
                <div class="progress mb-3" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{ result }}">
                    <div class="progress-bar bg-success" style="width: {{ result }}%">{{ result }}%</div>
                </div>

                {% if result == 100 %}
                    <div class="alert alert-success">–í—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ISO 27001 üéâ</div>
                {% elif result >= 60 %}
                    <div class="alert alert-warning">–ï—Å—Ç—å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è, –Ω–æ –≤—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏.</div>
                {% else %}
                    <div class="alert alert-danger">–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –∏ –≤–Ω–µ–¥—Ä–∏—Ç—å –º–µ—Ä—ã –ò–ë.</div>
                {% endif %}

                <div class="d-grid mt-3">
                    <a href="/download" class="btn btn-outline-secondary">–°–∫–∞—á–∞—Ç—å PDF-–æ—Ç—á—ë—Ç</a>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>
</body>
</html>
